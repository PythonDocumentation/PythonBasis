# python中的类

## 一：属性：

尽量把需要用户传入的属性作为实例属性，而把同类都一样的属性作为类属性。实例属性在每创造一个实例时都会初始化一遍，不同的实例的实例属性可能不同，不同实例的类属性都相同。从而减少内存。

### 1：实例属性：

最好在__init__(self,...)中初始化

内部调用时都需要加上self.

外部调用时用instancename.propertyname

### 2:类属性：

在__init__()外初始化

在内部用classname.类属性名调用

外部既可以用classname.类属性名又可以用instancename.类属性名来调用

### 3：私有属性：

1）：单下划线_开头：只是告诉别人这是私有属性，外部依然可以访问更改

2）：双下划线__开头：外部不可通过instancename.propertyname来访问或者更改

实际将其转化为了_classname__propertyname

## 二：方法

### 1：普通类方法：

def fun_name(self,...):

pass

外部用实例调用

### 2：静态方法：@staticmethod

不能访问实例属性！！！   参数不能传入self！！！

与类相关但是不依赖类与实例的方法！！

### 3:类方法：@classmethod

不能访问实例属性！！！   参数必须传入cls！！！

必须传入cls参数（即代表了此类对象-----区别------self代表实例对象），并且用此来调用类属性：cls.类属性名



## 三：类 

### 1.类的定义

类定义的开始是 class

类名的定义：以大驼峰（首字母大写）为主

 

class ClassName:

\# 属性

\# 方法

def xxx(self):

pass

 

类中函数的传入参数

函数的第一个传入参数是 self 它本身

类中函数没有传入对应参数，则到全局变量中寻找

类中方法调用本身 self 是指对象本身，那么也可以用 self.属性名 指向类的属性

 

### 2.类的使用 对象的生成

定义类变量

变量名 = 类名()

 

### 3.类的方法调用

类变量名.方法名

 

### 4.给类添加属性

class.属性名 = 属性值

及给类添加属性

 

### 5.类函数使用类属性

类函数使用类属性时，使用 self 调用类本身的属性

 

### 6.初始化对象

在类中用 __init__ 方法

__init__ 方法是自动调用的

__init__ 方法的作用是初始化对象

当类中有 __init__ 方法时，类在定义时必须进行属性的定义

 

### 7.打印方法

在类中使用 __str__ 方法

__str__ 方法是返回打印的信息

__str__ 当要打印类是，返回 __str__ 中的 return 返回的内容

 

### 8.私有属性

私有属性只允许在类中使用的属性

__private_attrs：两个下划线开头，声明该属性为私有，不能在类地外部被使用或直接访问。

在类内部的方法中使用时 self.__private_attrs。

 

### 9.私有方法

私有方法是只允许在类中使用的方法

在方法名前夹上两个下划线

__private_attrs：两个下划线开头，声明该属性为私有，不能在类地外部被使用或直接访问。在类内部的方法中使用时 self.__private_attrs。

class Dag:
     def __syff(self):
         print('这是一个私有方法')

 

 

### 10.类的继承

父类 --- 子类

子类定义的时候，在类名后加小括号，写父类名

 

### 11.重写

在子类中重新定义父类中的方法

调用被重写的方法时

第一种：要在重写方法中用父类调用父类方法并且传递 self 参数

第二种：用 super() 函数

Python super() 函数

Python 内置函数 Python 内置函数

描述

super() 函数是用于调用父类(超类)的一个方法。

super 是用来解决多重继承问题的，直接用类名调用父类方法在使用单继承的时候没问题，但是如果使用多继承，会涉及到查找顺序（MRO）、重复调用（钻石继承）等种种问题。

MRO 就是类的方法解析顺序表, 其实也就是继承父类方法时的顺序表。

语法

以下是 super() 方法的语法:

super(type[, object-or-type])

参数

​    type -- 类。

​    object-or-type -- 类，一般是 self

Python3.x 和 Python2.x 的一个区别是: Python 3 可以使用直接使用 super().xxx 代替 super(Class, self).xxx :

Python3.x 实例：

 

### 12.父类的私有方法

父类的私有方法不会被子类继承

 

### 13.创建方法

__new__方法

创建对象时使用

 

### 类的专有方法：



__init__ : 构造函数，在生成对象时调用

__del__ : 析构函数，释放对象时使用

__repr__ : 打印，转换

__setitem__ : 按照索引赋值

__getitem__: 按照索引获取值

__len__: 获得长度

__cmp__: 比较运算

__call__: 函数调用

__add__: 加运算

__sub__: 减运算

__mul__: 乘运算

__div__: 除运算

__mod__: 求余运算

__pow__: 乘方

__new__: 够着方法

 

 

 

 

 

单例模式

单例是只有一个对象的模式

使用私有属性进行单例的实现

class Dog(object):
     __instance = None      def __new__(cls, args, kwargs):
         if cls.__instance == None:
             cls.__instance = object.__new__(cls)
             return cls.__instance
         else:
             return cls.__instance

单例可以重复使用内存

 